"use strict";(self["webpackChunklottery_app"]=self["webpackChunklottery_app"]||[]).push([[868],{6868:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.$store.getters.IS_LOGGEDIN?s("div",[s("div",{staticClass:"flex flex-col items-center py-7 max-w-7xl mx-auto"},[s("h1",{staticClass:"text-xl font-bold "},[e._v("Your History:")]),s("div",{staticClass:"m-5 w-full flex flex-col gap-2 justify-center items-center "},[s("circle-loading",{attrs:{loadingProp:e.loading}}),e.emptyHistory?s("div",[e._v(" You don't have previous games at history :/ ")]):e._e(),e._l(e.selectedNums,(function(t,i){return s("div",{key:i,staticClass:"mb-2 bg-white odd:bg-zinc-100 rounded-md shadow-md max-w-lg w-11/12"},[s("div",{staticClass:"relative"},[s("span",{staticClass:"relative py-4 px-2 sm:p-4  flex flex-col items-center justify-items-start cursor-pointer",attrs:{tabindex:"0"},on:{click:function(t){e.historyDetails(e.selectedNums[i],e.drawedNums[i],e.moneyWon[i],e.drawTime[i].toDate().toUTCString().split(" ").slice(0,5).join(" "),e.docsID[i])}}},[s("div",{staticClass:"flex w-full gap-1"},[s("span",{staticClass:"font-semibold flex-1 flex justify-end items-center text-right"},[e._v("Draw date:")]),s("div",{staticClass:"flex-1 flex justify-start items-center"},[e._v(e._s(e.drawTime[i].toDate().toUTCString().split(" ").slice(0,5).join(" ")))])]),s("div",{staticClass:"flex w-full gap-1"},[s("span",{staticClass:"font-semibold flex-1 flex justify-end items-center text-right"},[e._v("User's numbers:")]),s("div",{staticClass:"flex-1 flex justify-start items-center"},[e._v(e._s(t?t.join(", "):""))])]),s("div",{staticClass:"flex w-full gap-1"},[s("span",{staticClass:"font-semibold flex-1 flex justify-end items-center text-right"},[e._v("Drawed Numbers:")]),s("div",{staticClass:"flex-1 flex justify-start items-center"},[e._v(e._s(e.drawedNums[i]?e.drawedNums[i].join(", "):""))])]),s("div",{staticClass:"flex w-full gap-1"},[s("span",{staticClass:"font-semibold flex-1 flex justify-end items-center text-right"},[e._v("Money won:")]),s("div",{staticClass:"flex-1 flex justify-start items-center"},[e._v(e._s(e.moneyWon[i]>0?e.moneyWon[i]:"-"))])])]),s("span",{staticClass:"absolute top-0 right-2  cursor-pointer ",attrs:{tabindex:"0"},on:{click:function(t){return e.removeDrawHistory(i)}}},[e._v("âœ•")])])])}))],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&this.selectedNums.length>6,expression:"!loading && this.selectedNums.length > 6"}],staticClass:"cursor-pointer underline font-semibold",on:{click:e.goAtTop}},[e._v("Go at top")])])]):e._e()},r=[],a=s(6198),n=s(4367),o=(s(8975),s(561),s(1539),s(4747),s(6926)),l=s(4498),c=s(4665),d={name:"AppHistory",components:{"circle-loading":l.Z},data:function(){return{selectedNums:[],drawedNums:[],moneyWon:[],drawTime:[],docsID:[],emptyHistory:!1,loading:!1,updateHistory:!1}},computed:(0,n.Z)({},(0,c.Se)(["GET_UPDATE_HISTORY"])),methods:{removeDrawHistory:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!t.$user){s.next=14;break}return s.prev=1,s.next=4,(0,o.oe)((0,o.JU)((0,o.ad)(),"users",t.$user.uid,"history",t.docsID[e]));case 4:t.selectedNums.splice(e,1),t.drawedNums.splice(e,1),t.moneyWon.splice(e,1),t.drawTime.splice(e,1),t.docsID.splice(e,1),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](1),console.error("Error adding document: ",s.t0);case 14:0===t.selectedNums.length?t.emptyHistory=!0:t.emptyHistory=!1;case 15:case"end":return s.stop()}}),s,null,[[1,11]])})))()},goAtTop:function(){window.scrollTo({top:0,behavior:"smooth"})},historyDetails:function(e,t,s,i,r){this.$store.dispatch("SET_HISTORYDETAILS",{selectedNums:e,drawedNums:t,moneyWon:s,drawTime:i}),this.$router.push({path:"/history/"+r})},getHistoryData:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$user){t.next=23;break}return e.loading=!0,e.selectedNums=[],e.drawedNums=[],e.moneyWon=[],e.drawTime=[],e.docsID=[],t.prev=7,s=(0,o.IO)((0,o.hJ)((0,o.ad)(),"users",e.$user.uid,"history"),(0,o.Xo)("drawTime","desc")),t.next=11,(0,o.PL)(s);case 11:i=t.sent,i.forEach((function(t){e.selectedNums.push(t.data().playerNums),e.drawedNums.push(t.data().drawNums),e.moneyWon.push(t.data().totalWon),e.drawTime.push(t.data().drawTime),e.docsID.push(t.id)})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](7),console.error("Error adding document: ",t.t0);case 18:return t.prev=18,e.loading=!1,e.$store.commit("SET_UPDATEHISTORY",!1),t.finish(18);case 22:0===e.selectedNums.length?e.emptyHistory=!0:e.emptyHistory=!1;case 23:case"end":return t.stop()}}),t,null,[[7,15,18,22]])})))()}},created:function(){this.getHistoryData()},activated:function(){this.GET_UPDATE_HISTORY&&this.getHistoryData()}},u=d,m=s(1001),f=(0,m.Z)(u,i,r,!1,null,null,null),p=f.exports}}]);
//# sourceMappingURL=868-legacy.8a3eded1.js.map